<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Config 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 
<mapper namespace="Peed">
	
	<select id="getPeedList" parameterType="sist.co.model.PagingParam" resultType="sist.co.model.PeedDTO">
		SELECT SEQ, MEMBER_SEQ, IMAGE, PEED_LIKE, REGI_DATE, CONTENT
		FROM (
			SELECT ROW_NUMBER() OVER (ORDER BY REGI_DATE ASC) as rnum, SEQ, MEMBER_SEQ, PEED_LIKE, REGI_DATE, CONTNET
			FROM INSTA_PEED
			WHERE MEMBER_SEQ=#{peed}
		)A
		WHERE rnum between #{start} AND #{end}
	</select>
	
	<insert id="writePeed" parameterType="sist.co.model.PeedDTO">
		INSERT INTO INSTA_PEED(SEQ, MEMBER_SEQ, IMAGE, PEED_LIKE, REGI_DATE, CONTENT)
  		VALUES(SEQ_INSTA_PEED.NEXTVAL, #{member_seq}, #{image}, 0, SYSDATE, #{content})
	</insert>
	
</mapper>